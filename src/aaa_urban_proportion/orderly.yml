script: aaa_urban_proportion.R

artefacts:
  - data:
      description: WorldPop population urban proportions
      filenames:
        - urban_proportion.csv


displayname: WorldPop population urban proportions

packages:
  - tidyverse
  - sf
  - raster
  - exactextractr
  - countrycode
  - naomi
  - naomi.utils

parameters:
  iso3:
    default: ~
  version:
    default: 2022


resources:
  - wpp_urban_proportions.csv


## To add a new country to this task, add it to the dependency below and
## ensure the imported file is named 'depends/<iso3>_areas.geojson'
## Ideally, keep this list alphabetised for convenience

depends:
  aaa_pull_naomi_estimates:
    id: latest(parameter:iso3 == iso3 && parameter:version == version)
    use:
      depends/naomi_areas.geojson: outputs/naomi_areas.geojson
